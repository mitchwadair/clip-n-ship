{"version":3,"file":"./dist/clipnship.js.map","sources":["./src/clipnship.js"],"names":["ClipConverter","constructor","video","outputWidth","outputHeight","Error","this","_layers","_dimensions","width","height","_canvas","_createCanvas","_video","_createVideo","_playInterval","canvas","document","createElement","setAttribute","videoElement","onplay","clearInterval","setInterval","_drawLayers","onpause","onended","onloadedmetadata","currentTime","onseeked","window","requestAnimationFrame","_calculateRenderValues","scale","let","vWidth","vHeight","diffX","diffY","offsetX","offsetY","ctx","getContext","i","length","source","filter","drawImage","getPreview","style","addLayer","name","getLayer","push","find","layer","removeLayer","getLayers","updateLayerScale","updateLayerFilter","previewPlay","play","previewPause","pause","previewReset","render","fps","onFinishCallback","onProgressCallback","videoStream","captureStream","audioStream","combinedStreams","MediaStream","getVideoTracks","getAudioTracks","recorder","MediaRecorder","mimeType","outputChunks","ondataavailable","event","data","duration","onstop","volume","Blob","type","start","stop"],"mappings":"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"}