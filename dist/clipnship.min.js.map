{"version":3,"file":"./dist/clipnship.js.map","sources":["./src/clipnship.js"],"names":["ClipConverter","constructor","video","Error","this","_layers","_canvas","_createCanvas","_video","_createVideo","_playInterval","canvas","document","createElement","setAttribute","videoElement","onplay","clearInterval","setInterval","_drawLayers","onpause","onended","onloadedmetadata","currentTime","onseeked","window","requestAnimationFrame","_calculateRenderValues","scale","vWidth","videoWidth","vHeight","videoHeight","offsetX","offsetY","width","height","ctx","getContext","let","i","length","layer","source","filter","drawImage","getPreview","style","addLayer","name","getLayer","push","find","removeLayer","getLayers","updateLayerScale","updateLayerFilter","previewPlay","play","previewPause","pause","previewReset","render","fps","onFinishCallback","onProgressCallback","videoStream","captureStream","audioStream","combinedStreams","MediaStream","getVideoTracks","getAudioTracks","recorder","MediaRecorder","mimeType","outputChunks","ondataavailable","event","data","duration","onstop","volume","Blob","type","start","stop"],"mappings":"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"}