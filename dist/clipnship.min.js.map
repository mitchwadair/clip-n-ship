{"version":3,"file":"./dist/clipnship.js.map","sources":["./src/clipnship.js"],"names":["ClipConverter","constructor","video","Error","this","_layers","_canvas","_createCanvas","_video","_createVideo","_playInterval","canvas","document","createElement","setAttribute","videoElement","onplay","clearInterval","setInterval","_drawLayers","onpause","onended","onloadedmetadata","currentTime","onseeked","window","requestAnimationFrame","body","appendChild","_calculateRenderValues","scale","vWidth","videoWidth","vHeight","videoHeight","offsetX","offsetY","width","height","ctx","getContext","let","i","length","layer","source","filter","drawImage","getPreview","style","addLayer","name","getLayer","push","find","removeLayer","getLayers","updateLayerScale","updateLayerFilter","previewPlay","play","previewPause","pause","previewReset","render","fps","onFinishCallback","onProgressCallback","videoStream","captureStream","audioStream","combinedStreams","MediaStream","getVideoTracks","getAudioTracks","recorder","MediaRecorder","mimeType","outputChunks","ondataavailable","event","data","duration","onstop","volume","Blob","type","start","stop"],"mappings":"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"}